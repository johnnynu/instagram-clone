{"ast":null,"code":"var _jsxFileName = \"/Users/johnnynguyen/instagram-clone/src/components/shared/OptionsDialog.js\";\nimport React from \"react\";\nimport { useOptionsDialogStyles } from \"../../styles\";\nimport { Dialog, Zoom, Button, Divider } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport { defaultPost } from \"../../data\";\nimport { UserContext } from \"../../App\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { UNFOLLOW_USER } from \"../../graphql/mutations\";\n\nfunction OptionsDialog({\n  onClose,\n  authorId,\n  postId\n}) {\n  const classes = useOptionsDialogStyles();\n  const {\n    currentUserId,\n    followingIds\n  } = React.useContext(UserContext);\n  const isOwner = authorId === currentUserId;\n  const buttonText = isOwner ? \"Delete\" : \"Unfollow\";\n  const onClick = isOwner ? handleDeletePost : handleUnfollowUser;\n  const isFollowing = followingIds.some(id => id === authorId);\n  const isUnrelatedUser = !isOwner && !isFollowing;\n  const [unfollowUser] = useMutation(UNFOLLOW_USER);\n\n  function handleDeletePost() {}\n\n  function handleUnfollowUser() {\n    const variables = {\n      userIdToFollow: authorId,\n      currentUserId\n    };\n    unfollowUser({\n      variables\n    });\n    onClose();\n  }\n\n  return React.createElement(Dialog, {\n    open: true,\n    classes: {\n      scrollPaper: classes.dialogScrollPaper\n    },\n    onClose: onClose,\n    TransitionComponent: Zoom,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, !isUnrelatedUser && React.createElement(Button, {\n    className: classes.redButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    },\n    __self: this\n  }, \"Unfollow\"), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    },\n    __self: this\n  }), React.createElement(Button, {\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: `/p/${defaultPost.id}`,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Go to post\")), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }), React.createElement(Button, {\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48\n    },\n    __self: this\n  }, \"Share\"), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    },\n    __self: this\n  }), React.createElement(Button, {\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, \"Copy Link\"), React.createElement(Divider, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }), React.createElement(Button, {\n    onClick: onClose,\n    className: classes.button,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Cancel\"));\n}\n\nexport default OptionsDialog;","map":{"version":3,"sources":["/Users/johnnynguyen/instagram-clone/src/components/shared/OptionsDialog.js"],"names":["React","useOptionsDialogStyles","Dialog","Zoom","Button","Divider","Link","defaultPost","UserContext","useMutation","UNFOLLOW_USER","OptionsDialog","onClose","authorId","postId","classes","currentUserId","followingIds","useContext","isOwner","buttonText","onClick","handleDeletePost","handleUnfollowUser","isFollowing","some","id","isUnrelatedUser","unfollowUser","variables","userIdToFollow","scrollPaper","dialogScrollPaper","redButton","button"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useOptionsDialogStyles } from \"../../styles\";\nimport { Dialog, Zoom, Button, Divider } from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport { defaultPost } from \"../../data\";\nimport { UserContext } from \"../../App\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { UNFOLLOW_USER } from \"../../graphql/mutations\";\n\nfunction OptionsDialog({ onClose, authorId, postId }) {\n  const classes = useOptionsDialogStyles();\n  const { currentUserId, followingIds } = React.useContext(UserContext);\n  const isOwner = authorId === currentUserId;\n  const buttonText = isOwner ? \"Delete\" : \"Unfollow\";\n  const onClick = isOwner ? handleDeletePost : handleUnfollowUser;\n  const isFollowing = followingIds.some(id => id === authorId);\n  const isUnrelatedUser = !isOwner && !isFollowing;\n  const [unfollowUser] = useMutation(UNFOLLOW_USER);\n\n  function handleDeletePost() {}\n\n  function handleUnfollowUser() {\n    const variables = {\n      userIdToFollow: authorId,\n      currentUserId\n    };\n    unfollowUser({ variables });\n    onClose();\n  }\n\n  return (\n    <Dialog\n      open\n      classes={{\n        scrollPaper: classes.dialogScrollPaper\n      }}\n      onClose={onClose}\n      TransitionComponent={Zoom}\n    >\n      {!isUnrelatedUser && (\n        <Button className={classes.redButton}>Unfollow</Button>\n      )}\n      <Divider />\n      <Button className={classes.button}>\n        <Link to={`/p/${defaultPost.id}`}>Go to post</Link>\n      </Button>\n      <Divider />\n      <Button className={classes.button}>Share</Button>\n      <Divider />\n      <Button className={classes.button}>Copy Link</Button>\n      <Divider />\n      <Button onClick={onClose} className={classes.button}>\n        Cancel\n      </Button>\n    </Dialog>\n  );\n}\n\nexport default OptionsDialog;\n"]},"metadata":{},"sourceType":"module"}