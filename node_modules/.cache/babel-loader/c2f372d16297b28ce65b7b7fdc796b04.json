{"ast":null,"code":"var _jsxFileName = \"/Users/johnnynguyen/instagram-clone/src/components/shared/FollowButton.js\";\nimport React from \"react\";\nimport { useFollowButtonStyles } from \"../../styles\";\nimport { Button } from \"@material-ui/core\";\nimport { UserContext } from \"../../App\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { FOLLOW_USER, UNFOLLOW_USER } from \"../../graphql/mutations\";\n\nfunction FollowButton({\n  side,\n  id\n}) {\n  const classes = useFollowButtonStyles({\n    side\n  });\n  const {\n    currentUserId,\n    followingIds\n  } = React.useContext(UserContext);\n  const isAlreadyFollowing = followingIds.some(followingId => followingId === id);\n  const [isFollowing, setFollowing] = React.useState(isAlreadyFollowing);\n  const [followUser] = useMutation(FOLLOW_USER);\n  const [unfollowUser] = useMutation(UNFOLLOW_USER);\n  const variables = {\n    userIdToFollow: id,\n    currentUserId\n  };\n\n  function handleFollowUser() {\n    setFollowing(true);\n    followUser({\n      variables\n    });\n  }\n\n  function handleUnfollowUser() {\n    setFollowing(false);\n    unfollowUser({\n      variables\n    });\n  }\n\n  const followButton = React.createElement(Button, {\n    variant: side ? \"text\" : \"contained\",\n    color: \"primary\",\n    className: classes.button,\n    onClick: handleFollowUser,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  }, \"Follow\");\n  const followingButton = React.createElement(Button, {\n    variant: side ? \"text\" : \"outlined\",\n    className: classes.button,\n    onClick: handleUnfollowUser,\n    fullWidth: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    },\n    __self: this\n  }, \"Following\");\n  return isFollowing ? followingButton : followButton;\n}\n\nexport default FollowButton;","map":{"version":3,"sources":["/Users/johnnynguyen/instagram-clone/src/components/shared/FollowButton.js"],"names":["React","useFollowButtonStyles","Button","UserContext","useMutation","FOLLOW_USER","UNFOLLOW_USER","FollowButton","side","id","classes","currentUserId","followingIds","useContext","isAlreadyFollowing","some","followingId","isFollowing","setFollowing","useState","followUser","unfollowUser","variables","userIdToFollow","handleFollowUser","handleUnfollowUser","followButton","button","followingButton"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,qBAAT,QAAsC,cAAtC;AACA,SAASC,MAAT,QAAuB,mBAAvB;AACA,SAASC,WAAT,QAA4B,WAA5B;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,WAAT,EAAsBC,aAAtB,QAA2C,yBAA3C;;AAEA,SAASC,YAAT,CAAsB;AAAEC,EAAAA,IAAF;AAAQC,EAAAA;AAAR,CAAtB,EAAoC;AAClC,QAAMC,OAAO,GAAGT,qBAAqB,CAAC;AAAEO,IAAAA;AAAF,GAAD,CAArC;AACA,QAAM;AAAEG,IAAAA,aAAF;AAAiBC,IAAAA;AAAjB,MAAkCZ,KAAK,CAACa,UAAN,CAAiBV,WAAjB,CAAxC;AACA,QAAMW,kBAAkB,GAAGF,YAAY,CAACG,IAAb,CACzBC,WAAW,IAAIA,WAAW,KAAKP,EADN,CAA3B;AAGA,QAAM,CAACQ,WAAD,EAAcC,YAAd,IAA8BlB,KAAK,CAACmB,QAAN,CAAeL,kBAAf,CAApC;AACA,QAAM,CAACM,UAAD,IAAehB,WAAW,CAACC,WAAD,CAAhC;AACA,QAAM,CAACgB,YAAD,IAAiBjB,WAAW,CAACE,aAAD,CAAlC;AACA,QAAMgB,SAAS,GAAG;AAChBC,IAAAA,cAAc,EAAEd,EADA;AAEhBE,IAAAA;AAFgB,GAAlB;;AAKA,WAASa,gBAAT,GAA4B;AAC1BN,IAAAA,YAAY,CAAC,IAAD,CAAZ;AACAE,IAAAA,UAAU,CAAC;AAAEE,MAAAA;AAAF,KAAD,CAAV;AACD;;AAED,WAASG,kBAAT,GAA8B;AAC5BP,IAAAA,YAAY,CAAC,KAAD,CAAZ;AACAG,IAAAA,YAAY,CAAC;AAAEC,MAAAA;AAAF,KAAD,CAAZ;AACD;;AAED,QAAMI,YAAY,GAChB,oBAAC,MAAD;AACE,IAAA,OAAO,EAAElB,IAAI,GAAG,MAAH,GAAY,WAD3B;AAEE,IAAA,KAAK,EAAC,SAFR;AAGE,IAAA,SAAS,EAAEE,OAAO,CAACiB,MAHrB;AAIE,IAAA,OAAO,EAAEH,gBAJX;AAKE,IAAA,SAAS,MALX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADF;AAYA,QAAMI,eAAe,GACnB,oBAAC,MAAD;AACE,IAAA,OAAO,EAAEpB,IAAI,GAAG,MAAH,GAAY,UAD3B;AAEE,IAAA,SAAS,EAAEE,OAAO,CAACiB,MAFrB;AAGE,IAAA,OAAO,EAAEF,kBAHX;AAIE,IAAA,SAAS,MAJX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADF;AAWA,SAAOR,WAAW,GAAGW,eAAH,GAAqBF,YAAvC;AACD;;AAED,eAAenB,YAAf","sourcesContent":["import React from \"react\";\nimport { useFollowButtonStyles } from \"../../styles\";\nimport { Button } from \"@material-ui/core\";\nimport { UserContext } from \"../../App\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { FOLLOW_USER, UNFOLLOW_USER } from \"../../graphql/mutations\";\n\nfunction FollowButton({ side, id }) {\n  const classes = useFollowButtonStyles({ side });\n  const { currentUserId, followingIds } = React.useContext(UserContext);\n  const isAlreadyFollowing = followingIds.some(\n    followingId => followingId === id\n  );\n  const [isFollowing, setFollowing] = React.useState(isAlreadyFollowing);\n  const [followUser] = useMutation(FOLLOW_USER);\n  const [unfollowUser] = useMutation(UNFOLLOW_USER);\n  const variables = {\n    userIdToFollow: id,\n    currentUserId\n  };\n\n  function handleFollowUser() {\n    setFollowing(true);\n    followUser({ variables });\n  }\n\n  function handleUnfollowUser() {\n    setFollowing(false);\n    unfollowUser({ variables });\n  }\n\n  const followButton = (\n    <Button\n      variant={side ? \"text\" : \"contained\"}\n      color=\"primary\"\n      className={classes.button}\n      onClick={handleFollowUser}\n      fullWidth\n    >\n      Follow\n    </Button>\n  );\n\n  const followingButton = (\n    <Button\n      variant={side ? \"text\" : \"outlined\"}\n      className={classes.button}\n      onClick={handleUnfollowUser}\n      fullWidth\n    >\n      Following\n    </Button>\n  );\n\n  return isFollowing ? followingButton : followButton;\n}\n\nexport default FollowButton;\n"]},"metadata":{},"sourceType":"module"}