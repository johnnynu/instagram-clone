{"ast":null,"code":"import _slicedToArray from\"/Users/johnnynguyen/instagram-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{usePostStyles}from\"../../styles\";import UserCard from\"../shared/UserCard\";import{MoreIcon,CommentIcon,ShareIcon,UnlikeIcon,LikeIcon,RemoveIcon,SaveIcon}from\"../../icons\";import{Link}from\"react-router-dom\";import{Typography,Button,Hidden,Divider,TextField}from\"@material-ui/core\";import OptionsDialog from\"../shared/OptionsDialog\";import{defaultPost}from\"../../data\";import PostSkeleton from\"./PostSkeleton\";function Post(){var classes=usePostStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),showOptionsDialog=_React$useState2[0],setOptionsDialog=_React$useState2[1];var _React$useState3=React.useState(true),_React$useState4=_slicedToArray(_React$useState3,2),loading=_React$useState4[0],setLoading=_React$useState4[1];var id=defaultPost.id,media=defaultPost.media,likes=defaultPost.likes,user=defaultPost.user,caption=defaultPost.caption,comments=defaultPost.comments;setTimeout(function(){return setLoading(false);},2000);if(loading)return React.createElement(PostSkeleton,null);return React.createElement(\"div\",{className:classes.postContainer},React.createElement(\"article\",{className:classes.article},React.createElement(\"div\",{className:classes.postHeader},React.createElement(UserCard,{user:user,avatarSize:32}),React.createElement(MoreIcon,{className:classes.moreIcon,onClick:function onClick(){return setOptionsDialog(true);}})),React.createElement(\"div\",{className:classes.postImage},React.createElement(\"img\",{src:media,alt:\"Post media\",className:classes.image})),React.createElement(\"div\",{className:classes.postButtonsWrapper},React.createElement(\"div\",{className:classes.postButtons},React.createElement(LikeButton,null),React.createElement(Link,{to:\"/p/\".concat(id)},React.createElement(CommentIcon,null)),React.createElement(ShareIcon,null),React.createElement(SaveButton,null)),React.createElement(Typography,{className:classes.likes,variant:\"subtitle2\"},React.createElement(\"span\",null,likes===1?\"1 like\":\"\".concat(likes,\" likes\"))),React.createElement(\"div\",{className:classes.postCaptionContainer},React.createElement(Typography,{variant:\"body2\",component:\"span\",className:classes.postCaption,dangerouslySetInnerHTML:{__html:caption}}),comments.map(function(comment){return React.createElement(\"div\",{key:comment.id},React.createElement(Link,{to:\"/\".concat(comment.user.username)},React.createElement(Typography,{variant:\"subtitle2\",component:\"span\",className:classes.commentUsername},comment.user.username),\" \",React.createElement(Typography,{variant:\"body2\",component:\"span\"},comment.content)));})),React.createElement(Typography,{color:\"textSecondary\",className:classes.datePosted},\"5 DAYS AGO\"),React.createElement(Hidden,{xsDown:true},React.createElement(\"div\",{className:classes.comment},React.createElement(Divider,null),React.createElement(Comment,null))))),showOptionsDialog&&React.createElement(OptionsDialog,{onClose:function onClose(){return setOptionsDialog(false);}}));}function LikeButton(){var classes=usePostStyles();var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),liked=_React$useState6[0],setLiked=_React$useState6[1];var Icon=liked?UnlikeIcon:LikeIcon;var className=liked?classes.liked:classes.like;var onClick=liked?handleUnlike:handleLike;function handleLike(){console.log(\"like\");setLiked(true);}function handleUnlike(){console.log(\"unlike\");setLiked(false);}return React.createElement(Icon,{className:className,onClick:onClick});}function SaveButton(){var classes=usePostStyles();var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),saved=_React$useState8[0],setSaved=_React$useState8[1];var Icon=saved?RemoveIcon:SaveIcon;var onClick=saved?handleRemove:handleSave;function handleSave(){console.log(\"save\");setSaved(true);}function handleRemove(){console.log(\"remove\");setSaved(false);}return React.createElement(Icon,{className:classes.saveIcon,onClick:onClick});}function Comment(){var classes=usePostStyles();var _React$useState9=React.useState(\"\"),_React$useState10=_slicedToArray(_React$useState9,2),content=_React$useState10[0],setContent=_React$useState10[1];return React.createElement(\"div\",{className:classes.commentContainer},React.createElement(TextField,{fullWidth:true,value:content,placeholder:\"Add a comment...\",multiline:true,rowsMax:2,rows:1,onChange:function onChange(event){return setContent(event.target.value);},className:classes.textField,InputProps:{classes:{root:classes.root,underline:classes.underline}}}),React.createElement(Button,{color:\"primary\",className:classes.commentButton,disabled:!content.trim()},\"Post\"));}export default Post;","map":{"version":3,"sources":["/Users/johnnynguyen/instagram-clone/src/components/post/Post.js"],"names":["React","usePostStyles","UserCard","MoreIcon","CommentIcon","ShareIcon","UnlikeIcon","LikeIcon","RemoveIcon","SaveIcon","Link","Typography","Button","Hidden","Divider","TextField","OptionsDialog","defaultPost","PostSkeleton","Post","classes","useState","showOptionsDialog","setOptionsDialog","loading","setLoading","id","media","likes","user","caption","comments","setTimeout","postContainer","article","postHeader","moreIcon","postImage","image","postButtonsWrapper","postButtons","postCaptionContainer","postCaption","__html","map","comment","username","commentUsername","content","datePosted","LikeButton","liked","setLiked","Icon","className","like","onClick","handleUnlike","handleLike","console","log","SaveButton","saved","setSaved","handleRemove","handleSave","saveIcon","Comment","setContent","commentContainer","event","target","value","textField","root","underline","commentButton","trim"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { usePostStyles } from \"../../styles\";\nimport UserCard from \"../shared/UserCard\";\nimport {\n  MoreIcon,\n  CommentIcon,\n  ShareIcon,\n  UnlikeIcon,\n  LikeIcon,\n  RemoveIcon,\n  SaveIcon\n} from \"../../icons\";\nimport { Link } from \"react-router-dom\";\nimport {\n  Typography,\n  Button,\n  Hidden,\n  Divider,\n  TextField\n} from \"@material-ui/core\";\nimport OptionsDialog from \"../shared/OptionsDialog\";\nimport { defaultPost } from \"../../data\";\nimport PostSkeleton from \"./PostSkeleton\";\n\nfunction Post() {\n  const classes = usePostStyles();\n  const [showOptionsDialog, setOptionsDialog] = React.useState(false);\n  const [loading, setLoading] = React.useState(true);\n  const { id, media, likes, user, caption, comments } = defaultPost;\n\n  setTimeout(() => setLoading(false), 2000);\n  if (loading) return <PostSkeleton />;\n\n  return (\n    <div className={classes.postContainer}>\n      <article className={classes.article}>\n        {/* Post Header */}\n        <div className={classes.postHeader}>\n          <UserCard user={user} avatarSize={32} />\n          <MoreIcon\n            className={classes.moreIcon}\n            onClick={() => setOptionsDialog(true)}\n          />\n        </div>\n        {/* Post Image */}\n        <div className={classes.postImage}>\n          <img src={media} alt=\"Post media\" className={classes.image} />\n        </div>\n        {/* Post Buttons */}\n        <div className={classes.postButtonsWrapper}>\n          <div className={classes.postButtons}>\n            <LikeButton />\n            <Link to={`/p/${id}`}>\n              <CommentIcon />\n            </Link>\n            <ShareIcon />\n            <SaveButton />\n          </div>\n          <Typography className={classes.likes} variant=\"subtitle2\">\n            <span>{likes === 1 ? \"1 like\" : `${likes} likes`}</span>\n          </Typography>\n          <div className={classes.postCaptionContainer}>\n            <Typography\n              variant=\"body2\"\n              component=\"span\"\n              className={classes.postCaption}\n              dangerouslySetInnerHTML={{ __html: caption }}\n            />\n            {comments.map(comment => (\n              <div key={comment.id}>\n                <Link to={`/${comment.user.username}`}>\n                  <Typography\n                    variant=\"subtitle2\"\n                    component=\"span\"\n                    className={classes.commentUsername}\n                  >\n                    {comment.user.username}\n                  </Typography>{\" \"}\n                  <Typography variant=\"body2\" component=\"span\">\n                    {comment.content}\n                  </Typography>\n                </Link>\n              </div>\n            ))}\n          </div>\n          <Typography color=\"textSecondary\" className={classes.datePosted}>\n            5 DAYS AGO\n          </Typography>\n          <Hidden xsDown>\n            <div className={classes.comment}>\n              <Divider />\n              <Comment />\n            </div>\n          </Hidden>\n        </div>\n      </article>\n      {showOptionsDialog && (\n        <OptionsDialog onClose={() => setOptionsDialog(false)} />\n      )}\n    </div>\n  );\n}\n\nfunction LikeButton() {\n  const classes = usePostStyles();\n  const [liked, setLiked] = React.useState(false);\n  const Icon = liked ? UnlikeIcon : LikeIcon;\n  const className = liked ? classes.liked : classes.like;\n  const onClick = liked ? handleUnlike : handleLike;\n\n  function handleLike() {\n    console.log(\"like\");\n    setLiked(true);\n  }\n\n  function handleUnlike() {\n    console.log(\"unlike\");\n    setLiked(false);\n  }\n\n  return <Icon className={className} onClick={onClick} />;\n}\n\nfunction SaveButton() {\n  const classes = usePostStyles();\n  const [saved, setSaved] = React.useState(false);\n  const Icon = saved ? RemoveIcon : SaveIcon;\n  const onClick = saved ? handleRemove : handleSave;\n\n  function handleSave() {\n    console.log(\"save\");\n    setSaved(true);\n  }\n\n  function handleRemove() {\n    console.log(\"remove\");\n    setSaved(false);\n  }\n\n  return <Icon className={classes.saveIcon} onClick={onClick} />;\n}\n\nfunction Comment() {\n  const classes = usePostStyles();\n  const [content, setContent] = React.useState(\"\");\n\n  return (\n    <div className={classes.commentContainer}>\n      <TextField\n        fullWidth\n        value={content}\n        placeholder=\"Add a comment...\"\n        multiline\n        rowsMax={2}\n        rows={1}\n        onChange={event => setContent(event.target.value)}\n        className={classes.textField}\n        InputProps={{\n          classes: {\n            root: classes.root,\n            underline: classes.underline\n          }\n        }}\n      />\n      <Button\n        color=\"primary\"\n        className={classes.commentButton}\n        disabled={!content.trim()}\n      >\n        Post\n      </Button>\n    </div>\n  );\n}\n\nexport default Post;\n"]},"metadata":{},"sourceType":"module"}