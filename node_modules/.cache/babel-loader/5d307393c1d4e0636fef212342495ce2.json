{"ast":null,"code":"import _slicedToArray from\"/Users/johnnynguyen/instagram-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useProfilePageStyles}from\"../styles\";import Layout from\"../components/shared/Layout\";import ProfilePicture from\"../components/shared/ProfilePicture\";import{defaultCurrentUser}from\"../data\";import{Hidden,Card,CardContent,Button,Typography,Dialog,Zoom,Divider,DialogTitle,Avatar}from\"@material-ui/core\";import{Link}from\"react-router-dom\";import{GearIcon}from\"../icons\";import ProfileTabs from\"../components/profile/ProfileTabs\";function ProfilePage(){var classes=useProfilePageStyles();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),showOptionsMenu=_React$useState2[0],setOptionsMenu=_React$useState2[1];var isOwner=true;function handleOptionsMenuClick(){setOptionsMenu(true);}function handleCloseMenu(){setOptionsMenu(false);}return React.createElement(Layout,{title:\"\".concat(defaultCurrentUser.name,\" (@\").concat(defaultCurrentUser.username,\")\")},React.createElement(\"div\",{className:classes.container},React.createElement(Hidden,{xsDown:true},React.createElement(Card,{className:classes.cardLarge},React.createElement(ProfilePicture,{isOwner:isOwner}),React.createElement(CardContent,{className:classes.cardContentLarge},React.createElement(ProfileNameSection,{user:defaultCurrentUser,isOwner:isOwner,handleOptionsMenuClick:handleOptionsMenuClick}),React.createElement(PostCountSection,{user:defaultCurrentUser}),React.createElement(NameBioSection,{user:defaultCurrentUser})))),React.createElement(Hidden,{smUp:true},React.createElement(Card,{className:classes.cardSmall},React.createElement(CardContent,null,React.createElement(\"section\",{className:classes.sectionSmall},React.createElement(ProfilePicture,{size:77,isOwner:isOwner}),React.createElement(ProfileNameSection,{user:defaultCurrentUser,isOwner:isOwner,handleOptionsMenuClick:handleOptionsMenuClick})),React.createElement(NameBioSection,{user:defaultCurrentUser})),React.createElement(PostCountSection,{user:defaultCurrentUser}))),showOptionsMenu&&React.createElement(OptionsMenu,{handleCloseMenu:handleCloseMenu}),React.createElement(ProfileTabs,{user:defaultCurrentUser,isOwner:isOwner})));}function ProfileNameSection(_ref){var user=_ref.user,isOwner=_ref.isOwner,handleOptionsMenuClick=_ref.handleOptionsMenuClick;var classes=useProfilePageStyles();var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),showUnfollowDialog=_React$useState4[0],setUnfollowDialog=_React$useState4[1];var followButton;var isFollowing=true;var isFollower=false;if(isFollowing){followButton=React.createElement(Button,{onClick:function onClick(){return setUnfollowDialog(true);},variant:\"outlined\",className:classes.button},\"Following\");}else if(isFollower){followButton=React.createElement(Button,{variant:\"contained\",color:\"primary\",className:classes.button},\"Follow Back\");}else{followButton=React.createElement(Button,{variant:\"contained\",color:\"primary\",className:classes.button},\"Follow\");}return React.createElement(React.Fragment,null,React.createElement(Hidden,{xsDown:true},React.createElement(\"section\",{className:classes.usernameSection},React.createElement(Typography,{className:classes.username},user.username),isOwner?React.createElement(React.Fragment,null,React.createElement(Link,{to:\"/accounts/edit\"},React.createElement(Button,{variant:\"outlined\"},\"Edit Profile\")),React.createElement(\"div\",{onClick:handleOptionsMenuClick,className:classes.settingsWrapper},React.createElement(GearIcon,{className:classes.settings}))):React.createElement(React.Fragment,null,followButton))),React.createElement(Hidden,{smUp:true},React.createElement(\"section\",null,React.createElement(\"div\",{className:classes.usernameDivSmall},React.createElement(Typography,{className:classes.username},user.username),isOwner&&React.createElement(\"div\",{onClick:handleOptionsMenuClick,className:classes.settingsWrapper},React.createElement(GearIcon,{className:classes.settings}))),isOwner?React.createElement(Link,{to:\"/accounts/edit\"},React.createElement(Button,{variant:\"outlined\",style:{width:\"100%\"}},\"Edit Profile\")):followButton)),showUnfollowDialog&&React.createElement(UnfollowDialog,{user:user,onClose:function onClose(){return setUnfollowDialog(false);}}));}function UnfollowDialog(_ref2){var onClose=_ref2.onClose,user=_ref2.user;var classes=useProfilePageStyles();return React.createElement(Dialog,{open:true,classes:{scrollPaper:classes.unfollowDialogScrollPaper},onClose:true,TransitionComponent:Zoom},React.createElement(\"div\",{className:classes.wrapper},React.createElement(Avatar,{src:user.profile_image,alt:\"\".concat(user.username,\"'s avatar\"),className:classes.avatar})),React.createElement(Typography,{align:\"center\",variant:\"body2\",className:classes.unfollowDialogText},\"Unfollow @\",user.username,\"?\"),React.createElement(Divider,null),React.createElement(Button,{className:classes.unfollowButton},\"Unfollow\"),React.createElement(Divider,null),React.createElement(Button,{onClick:onClose,className:classes.cancelButton},\"Cancel\"));}function PostCountSection(_ref3){var user=_ref3.user;var classes=useProfilePageStyles();var options=[\"posts\",\"followers\",\"following\"];return React.createElement(React.Fragment,null,React.createElement(Hidden,{smUp:true},React.createElement(Divider,null)),React.createElement(\"section\",{className:classes.followingSection},options.map(function(option){return React.createElement(\"div\",{key:option,className:classes.followingText},React.createElement(Typography,{className:classes.followingCount},user[option].length),React.createElement(Hidden,{xsDown:true},React.createElement(Typography,null,option)),React.createElement(Hidden,{smUp:true},React.createElement(Typography,{color:\"textSecondary\"},option)));})),React.createElement(Hidden,{smUp:true},React.createElement(Divider,null)));}function NameBioSection(_ref4){var user=_ref4.user;var classes=useProfilePageStyles();return React.createElement(\"section\",{className:classes.section},React.createElement(Typography,{className:classes.typography},user.name),React.createElement(Typography,null,user.bio),React.createElement(\"a\",{href:user.website,target:\"_blank\",rel:\"noopener noreferrer\"},React.createElement(Typography,{color:\"secondary\",className:classes.typography},user.website)));}function OptionsMenu(_ref5){var handleCloseMenu=_ref5.handleCloseMenu;var classes=useProfilePageStyles();var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),showLogOutMessage=_React$useState6[0],setLogOutMessage=_React$useState6[1];function handleLogOutClick(){setLogOutMessage(true);}return React.createElement(Dialog,{open:true,classes:{scrollPaper:classes.dialogScrollPaper,paper:classes.dialogPaper},TransitionComponent:Zoom},showLogOutMessage?React.createElement(DialogTitle,{className:classes.dialogTitle},\"Logging Out\",React.createElement(Typography,{color:\"textSecondary\"},\"You need to log back in to continue using Instagram.\")):React.createElement(React.Fragment,null,React.createElement(OptionsItem,{text:\"Change Password\"}),React.createElement(OptionsItem,{text:\"Nametag\"}),React.createElement(OptionsItem,{text:\"Authorized Apps\"}),React.createElement(OptionsItem,{text:\"Notifications\"}),React.createElement(OptionsItem,{text:\"Privacy and Security\"}),React.createElement(OptionsItem,{text:\"Log Out\",onClick:handleLogOutClick}),React.createElement(OptionsItem,{text:\"Cancel\",onClick:handleCloseMenu})));}function OptionsItem(_ref6){var text=_ref6.text,onClick=_ref6.onClick;return React.createElement(React.Fragment,null,React.createElement(Button,{style:{padding:\"12px 8px\"},onClick:onClick},text),React.createElement(Divider,null));}export default ProfilePage;","map":{"version":3,"sources":["/Users/johnnynguyen/instagram-clone/src/pages/profile.js"],"names":["React","useProfilePageStyles","Layout","ProfilePicture","defaultCurrentUser","Hidden","Card","CardContent","Button","Typography","Dialog","Zoom","Divider","DialogTitle","Avatar","Link","GearIcon","ProfileTabs","ProfilePage","classes","useState","showOptionsMenu","setOptionsMenu","isOwner","handleOptionsMenuClick","handleCloseMenu","name","username","container","cardLarge","cardContentLarge","cardSmall","sectionSmall","ProfileNameSection","user","showUnfollowDialog","setUnfollowDialog","followButton","isFollowing","isFollower","button","usernameSection","settingsWrapper","settings","usernameDivSmall","width","UnfollowDialog","onClose","scrollPaper","unfollowDialogScrollPaper","wrapper","profile_image","avatar","unfollowDialogText","unfollowButton","cancelButton","PostCountSection","options","followingSection","map","option","followingText","followingCount","length","NameBioSection","section","typography","bio","website","OptionsMenu","showLogOutMessage","setLogOutMessage","handleLogOutClick","dialogScrollPaper","paper","dialogPaper","dialogTitle","OptionsItem","text","onClick","padding"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useProfilePageStyles } from \"../styles\";\nimport Layout from \"../components/shared/Layout\";\nimport ProfilePicture from \"../components/shared/ProfilePicture\";\nimport { defaultCurrentUser } from \"../data\";\nimport {\n  Hidden,\n  Card,\n  CardContent,\n  Button,\n  Typography,\n  Dialog,\n  Zoom,\n  Divider,\n  DialogTitle,\n  Avatar\n} from \"@material-ui/core\";\nimport { Link } from \"react-router-dom\";\nimport { GearIcon } from \"../icons\";\nimport ProfileTabs from \"../components/profile/ProfileTabs\";\n\nfunction ProfilePage() {\n  const classes = useProfilePageStyles();\n  const [showOptionsMenu, setOptionsMenu] = React.useState(false);\n  const isOwner = true;\n\n  function handleOptionsMenuClick() {\n    setOptionsMenu(true);\n  }\n\n  function handleCloseMenu() {\n    setOptionsMenu(false);\n  }\n\n  return (\n    <Layout\n      title={`${defaultCurrentUser.name} (@${defaultCurrentUser.username})`}\n    >\n      <div className={classes.container}>\n        <Hidden xsDown>\n          <Card className={classes.cardLarge}>\n            <ProfilePicture isOwner={isOwner} />\n            <CardContent className={classes.cardContentLarge}>\n              <ProfileNameSection\n                user={defaultCurrentUser}\n                isOwner={isOwner}\n                handleOptionsMenuClick={handleOptionsMenuClick}\n              />\n              <PostCountSection user={defaultCurrentUser} />\n              <NameBioSection user={defaultCurrentUser} />\n            </CardContent>\n          </Card>\n        </Hidden>\n        <Hidden smUp>\n          <Card className={classes.cardSmall}>\n            <CardContent>\n              <section className={classes.sectionSmall}>\n                <ProfilePicture size={77} isOwner={isOwner} />\n                <ProfileNameSection\n                  user={defaultCurrentUser}\n                  isOwner={isOwner}\n                  handleOptionsMenuClick={handleOptionsMenuClick}\n                />\n              </section>\n              <NameBioSection user={defaultCurrentUser} />\n            </CardContent>\n            <PostCountSection user={defaultCurrentUser} />\n          </Card>\n        </Hidden>\n        {showOptionsMenu && <OptionsMenu handleCloseMenu={handleCloseMenu} />}\n        <ProfileTabs user={defaultCurrentUser} isOwner={isOwner} />\n      </div>\n    </Layout>\n  );\n}\n\nfunction ProfileNameSection({ user, isOwner, handleOptionsMenuClick }) {\n  const classes = useProfilePageStyles();\n  const [showUnfollowDialog, setUnfollowDialog] = React.useState(false);\n\n  let followButton;\n  const isFollowing = true;\n  const isFollower = false;\n  if (isFollowing) {\n    followButton = (\n      <Button\n        onClick={() => setUnfollowDialog(true)}\n        variant=\"outlined\"\n        className={classes.button}\n      >\n        Following\n      </Button>\n    );\n  } else if (isFollower) {\n    followButton = (\n      <Button variant=\"contained\" color=\"primary\" className={classes.button}>\n        Follow Back\n      </Button>\n    );\n  } else {\n    followButton = (\n      <Button variant=\"contained\" color=\"primary\" className={classes.button}>\n        Follow\n      </Button>\n    );\n  }\n\n  return (\n    <>\n      <Hidden xsDown>\n        <section className={classes.usernameSection}>\n          <Typography className={classes.username}>{user.username}</Typography>\n          {isOwner ? (\n            <>\n              <Link to=\"/accounts/edit\">\n                <Button variant=\"outlined\">Edit Profile</Button>\n              </Link>\n              <div\n                onClick={handleOptionsMenuClick}\n                className={classes.settingsWrapper}\n              >\n                <GearIcon className={classes.settings} />\n              </div>\n            </>\n          ) : (\n            <>{followButton}</>\n          )}\n        </section>\n      </Hidden>\n      <Hidden smUp>\n        <section>\n          <div className={classes.usernameDivSmall}>\n            <Typography className={classes.username}>\n              {user.username}\n            </Typography>\n            {isOwner && (\n              <div\n                onClick={handleOptionsMenuClick}\n                className={classes.settingsWrapper}\n              >\n                <GearIcon className={classes.settings} />\n              </div>\n            )}\n          </div>\n          {isOwner ? (\n            <Link to=\"/accounts/edit\">\n              <Button variant=\"outlined\" style={{ width: \"100%\" }}>\n                Edit Profile\n              </Button>\n            </Link>\n          ) : (\n            followButton\n          )}\n        </section>\n      </Hidden>\n      {showUnfollowDialog && (\n        <UnfollowDialog user={user} onClose={() => setUnfollowDialog(false)} />\n      )}\n    </>\n  );\n}\n\nfunction UnfollowDialog({ onClose, user }) {\n  const classes = useProfilePageStyles();\n\n  return (\n    <Dialog\n      open\n      classes={{\n        scrollPaper: classes.unfollowDialogScrollPaper\n      }}\n      onClose\n      TransitionComponent={Zoom}\n    >\n      <div className={classes.wrapper}>\n        <Avatar\n          src={user.profile_image}\n          alt={`${user.username}'s avatar`}\n          className={classes.avatar}\n        />\n      </div>\n      <Typography\n        align=\"center\"\n        variant=\"body2\"\n        className={classes.unfollowDialogText}\n      >\n        Unfollow @{user.username}?\n      </Typography>\n      <Divider />\n      <Button className={classes.unfollowButton}>Unfollow</Button>\n      <Divider />\n      <Button onClick={onClose} className={classes.cancelButton}>\n        Cancel\n      </Button>\n    </Dialog>\n  );\n}\n\nfunction PostCountSection({ user }) {\n  const classes = useProfilePageStyles();\n  const options = [\"posts\", \"followers\", \"following\"];\n\n  return (\n    <>\n      <Hidden smUp>\n        <Divider />\n      </Hidden>\n      <section className={classes.followingSection}>\n        {options.map(option => (\n          <div key={option} className={classes.followingText}>\n            <Typography className={classes.followingCount}>\n              {user[option].length}\n            </Typography>\n            <Hidden xsDown>\n              <Typography>{option}</Typography>\n            </Hidden>\n            <Hidden smUp>\n              <Typography color=\"textSecondary\">{option}</Typography>\n            </Hidden>\n          </div>\n        ))}\n      </section>\n      <Hidden smUp>\n        <Divider />\n      </Hidden>\n    </>\n  );\n}\n\nfunction NameBioSection({ user }) {\n  const classes = useProfilePageStyles();\n\n  return (\n    <section className={classes.section}>\n      <Typography className={classes.typography}>{user.name}</Typography>\n      <Typography>{user.bio}</Typography>\n      <a href={user.website} target=\"_blank\" rel=\"noopener noreferrer\">\n        <Typography color=\"secondary\" className={classes.typography}>\n          {user.website}\n        </Typography>\n      </a>\n    </section>\n  );\n}\n\nfunction OptionsMenu({ handleCloseMenu }) {\n  const classes = useProfilePageStyles();\n  const [showLogOutMessage, setLogOutMessage] = React.useState(false);\n\n  function handleLogOutClick() {\n    setLogOutMessage(true);\n  }\n\n  return (\n    <Dialog\n      open\n      classes={{\n        scrollPaper: classes.dialogScrollPaper,\n        paper: classes.dialogPaper\n      }}\n      TransitionComponent={Zoom}\n    >\n      {showLogOutMessage ? (\n        <DialogTitle className={classes.dialogTitle}>\n          Logging Out\n          <Typography color=\"textSecondary\">\n            You need to log back in to continue using Instagram.\n          </Typography>\n        </DialogTitle>\n      ) : (\n        <>\n          <OptionsItem text=\"Change Password\" />\n          <OptionsItem text=\"Nametag\" />\n          <OptionsItem text=\"Authorized Apps\" />\n          <OptionsItem text=\"Notifications\" />\n          <OptionsItem text=\"Privacy and Security\" />\n          <OptionsItem text=\"Log Out\" onClick={handleLogOutClick} />\n          <OptionsItem text=\"Cancel\" onClick={handleCloseMenu} />\n        </>\n      )}\n    </Dialog>\n  );\n}\n\nfunction OptionsItem({ text, onClick }) {\n  return (\n    <>\n      <Button style={{ padding: \"12px 8px\" }} onClick={onClick}>\n        {text}\n      </Button>\n      <Divider />\n    </>\n  );\n}\n\nexport default ProfilePage;\n"]},"metadata":{},"sourceType":"module"}